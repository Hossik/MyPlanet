{"ast":null,"code":"\"use strict\";\n\nvar deepEqual = require(\"./util/core/deep-equal\").use(match); // eslint-disable-line no-use-before-define\n\n\nvar every = require(\"./util/core/every\");\n\nvar functionName = require(\"./util/core/function-name\");\n\nvar iterableToString = require(\"./util/core/iterable-to-string\");\n\nvar typeOf = require(\"./util/core/typeOf\");\n\nvar valueToString = require(\"./util/core/value-to-string\");\n\nvar indexOf = Array.prototype.indexOf;\n\nfunction assertType(value, type, name) {\n  var actual = typeOf(value);\n\n  if (actual !== type) {\n    throw new TypeError(\"Expected type of \" + name + \" to be \" + type + \", but was \" + actual);\n  }\n}\n\nvar matcher = {\n  toString: function () {\n    return this.message;\n  }\n};\n\nfunction isMatcher(object) {\n  return matcher.isPrototypeOf(object);\n}\n\nfunction matchObject(expectation, actual) {\n  if (actual === null || actual === undefined) {\n    return false;\n  }\n\n  return Object.keys(expectation).every(function (key) {\n    var exp = expectation[key];\n    var act = actual[key];\n\n    if (isMatcher(exp)) {\n      if (!exp.test(act)) {\n        return false;\n      }\n    } else if (typeOf(exp) === \"object\") {\n      if (!matchObject(exp, act)) {\n        return false;\n      }\n    } else if (!deepEqual(exp, act)) {\n      return false;\n    }\n\n    return true;\n  });\n}\n\nvar TYPE_MAP = {\n  \"function\": function (m, expectation, message) {\n    m.test = expectation;\n    m.message = message || \"match(\" + functionName(expectation) + \")\";\n  },\n  number: function (m, expectation) {\n    m.test = function (actual) {\n      // we need type coercion here\n      return expectation == actual; // eslint-disable-line eqeqeq\n    };\n  },\n  object: function (m, expectation) {\n    var array = [];\n\n    if (typeof expectation.test === \"function\") {\n      m.test = function (actual) {\n        return expectation.test(actual) === true;\n      };\n\n      m.message = \"match(\" + functionName(expectation.test) + \")\";\n      return m;\n    }\n\n    array = Object.keys(expectation).map(function (key) {\n      return key + \": \" + valueToString(expectation[key]);\n    });\n\n    m.test = function (actual) {\n      return matchObject(expectation, actual);\n    };\n\n    m.message = \"match(\" + array.join(\", \") + \")\";\n    return m;\n  },\n  regexp: function (m, expectation) {\n    m.test = function (actual) {\n      return typeof actual === \"string\" && expectation.test(actual);\n    };\n  },\n  string: function (m, expectation) {\n    m.test = function (actual) {\n      return typeof actual === \"string\" && actual.indexOf(expectation) !== -1;\n    };\n\n    m.message = \"match(\\\"\" + expectation + \"\\\")\";\n  }\n};\n\nfunction match(expectation, message) {\n  var m = Object.create(matcher);\n  var type = typeOf(expectation);\n\n  if (type in TYPE_MAP) {\n    TYPE_MAP[type](m, expectation, message);\n  } else {\n    m.test = function (actual) {\n      return deepEqual(expectation, actual);\n    };\n  }\n\n  if (!m.message) {\n    m.message = \"match(\" + valueToString(expectation) + \")\";\n  }\n\n  return m;\n}\n\nmatcher.or = function (m2) {\n  if (!arguments.length) {\n    throw new TypeError(\"Matcher expected\");\n  } else if (!isMatcher(m2)) {\n    m2 = match(m2);\n  }\n\n  var m1 = this;\n  var or = Object.create(matcher);\n\n  or.test = function (actual) {\n    return m1.test(actual) || m2.test(actual);\n  };\n\n  or.message = m1.message + \".or(\" + m2.message + \")\";\n  return or;\n};\n\nmatcher.and = function (m2) {\n  if (!arguments.length) {\n    throw new TypeError(\"Matcher expected\");\n  } else if (!isMatcher(m2)) {\n    m2 = match(m2);\n  }\n\n  var m1 = this;\n  var and = Object.create(matcher);\n\n  and.test = function (actual) {\n    return m1.test(actual) && m2.test(actual);\n  };\n\n  and.message = m1.message + \".and(\" + m2.message + \")\";\n  return and;\n};\n\nmatch.isMatcher = isMatcher;\nmatch.any = match(function () {\n  return true;\n}, \"any\");\nmatch.defined = match(function (actual) {\n  return actual !== null && actual !== undefined;\n}, \"defined\");\nmatch.truthy = match(function (actual) {\n  return !!actual;\n}, \"truthy\");\nmatch.falsy = match(function (actual) {\n  return !actual;\n}, \"falsy\");\n\nmatch.same = function (expectation) {\n  return match(function (actual) {\n    return expectation === actual;\n  }, \"same(\" + valueToString(expectation) + \")\");\n};\n\nmatch.typeOf = function (type) {\n  assertType(type, \"string\", \"type\");\n  return match(function (actual) {\n    return typeOf(actual) === type;\n  }, \"typeOf(\\\"\" + type + \"\\\")\");\n};\n\nmatch.instanceOf = function (type) {\n  assertType(type, \"function\", \"type\");\n  return match(function (actual) {\n    return actual instanceof type;\n  }, \"instanceOf(\" + functionName(type) + \")\");\n};\n\nfunction createPropertyMatcher(propertyTest, messagePrefix) {\n  return function (property, value) {\n    assertType(property, \"string\", \"property\");\n    var onlyProperty = arguments.length === 1;\n    var message = messagePrefix + \"(\\\"\" + property + \"\\\"\";\n\n    if (!onlyProperty) {\n      message += \", \" + valueToString(value);\n    }\n\n    message += \")\";\n    return match(function (actual) {\n      if (actual === undefined || actual === null || !propertyTest(actual, property)) {\n        return false;\n      }\n\n      return onlyProperty || deepEqual(value, actual[property]);\n    }, message);\n  };\n}\n\nmatch.has = createPropertyMatcher(function (actual, property) {\n  if (typeof actual === \"object\") {\n    return property in actual;\n  }\n\n  return actual[property] !== undefined;\n}, \"has\");\nmatch.hasOwn = createPropertyMatcher(function (actual, property) {\n  return actual.hasOwnProperty(property);\n}, \"hasOwn\");\nmatch.array = match.typeOf(\"array\");\n\nmatch.array.deepEquals = function (expectation) {\n  return match(function (actual) {\n    // Comparing lengths is the fastest way to spot a difference before iterating through every item\n    var sameLength = actual.length === expectation.length;\n    return typeOf(actual) === \"array\" && sameLength && every(actual, function (element, index) {\n      return expectation[index] === element;\n    });\n  }, \"deepEquals([\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.array.startsWith = function (expectation) {\n  return match(function (actual) {\n    return typeOf(actual) === \"array\" && every(expectation, function (expectedElement, index) {\n      return actual[index] === expectedElement;\n    });\n  }, \"startsWith([\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.array.endsWith = function (expectation) {\n  return match(function (actual) {\n    // This indicates the index in which we should start matching\n    var offset = actual.length - expectation.length;\n    return typeOf(actual) === \"array\" && every(expectation, function (expectedElement, index) {\n      return actual[offset + index] === expectedElement;\n    });\n  }, \"endsWith([\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.array.contains = function (expectation) {\n  return match(function (actual) {\n    return typeOf(actual) === \"array\" && every(expectation, function (expectedElement) {\n      return indexOf.call(actual, expectedElement) !== -1;\n    });\n  }, \"contains([\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.map = match.typeOf(\"map\");\n\nmatch.map.deepEquals = function mapDeepEquals(expectation) {\n  return match(function (actual) {\n    // Comparing lengths is the fastest way to spot a difference before iterating through every item\n    var sameLength = actual.size === expectation.size;\n    return typeOf(actual) === \"map\" && sameLength && every(actual, function (element, key) {\n      return expectation.has(key) && expectation.get(key) === element;\n    });\n  }, \"deepEquals(Map[\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.map.contains = function mapContains(expectation) {\n  return match(function (actual) {\n    return typeOf(actual) === \"map\" && every(expectation, function (element, key) {\n      return actual.has(key) && actual.get(key) === element;\n    });\n  }, \"contains(Map[\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.set = match.typeOf(\"set\");\n\nmatch.set.deepEquals = function setDeepEquals(expectation) {\n  return match(function (actual) {\n    // Comparing lengths is the fastest way to spot a difference before iterating through every item\n    var sameLength = actual.size === expectation.size;\n    return typeOf(actual) === \"set\" && sameLength && every(actual, function (element) {\n      return expectation.has(element);\n    });\n  }, \"deepEquals(Set[\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.set.contains = function setContains(expectation) {\n  return match(function (actual) {\n    return typeOf(actual) === \"set\" && every(expectation, function (element) {\n      return actual.has(element);\n    });\n  }, \"contains(Set[\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.bool = match.typeOf(\"boolean\");\nmatch.number = match.typeOf(\"number\");\nmatch.string = match.typeOf(\"string\");\nmatch.object = match.typeOf(\"object\");\nmatch.func = match.typeOf(\"function\");\nmatch.regexp = match.typeOf(\"regexp\");\nmatch.date = match.typeOf(\"date\");\nmatch.symbol = match.typeOf(\"symbol\");\nmodule.exports = match;","map":{"version":3,"sources":["/home/hoss/my App/my-app/node_modules/sinon/lib/sinon/match.js"],"names":["deepEqual","require","use","match","every","functionName","iterableToString","typeOf","valueToString","indexOf","Array","prototype","assertType","value","type","name","actual","TypeError","matcher","toString","message","isMatcher","object","isPrototypeOf","matchObject","expectation","undefined","Object","keys","key","exp","act","test","TYPE_MAP","m","number","array","map","join","regexp","string","create","or","m2","arguments","length","m1","and","any","defined","truthy","falsy","same","instanceOf","createPropertyMatcher","propertyTest","messagePrefix","property","onlyProperty","has","hasOwn","hasOwnProperty","deepEquals","sameLength","element","index","startsWith","expectedElement","endsWith","offset","contains","call","mapDeepEquals","size","get","mapContains","set","setDeepEquals","setContains","bool","func","date","symbol","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar deepEqual = require(\"./util/core/deep-equal\").use(match); // eslint-disable-line no-use-before-define\nvar every = require(\"./util/core/every\");\nvar functionName = require(\"./util/core/function-name\");\nvar iterableToString = require(\"./util/core/iterable-to-string\");\nvar typeOf = require(\"./util/core/typeOf\");\nvar valueToString = require(\"./util/core/value-to-string\");\n\nvar indexOf = Array.prototype.indexOf;\n\nfunction assertType(value, type, name) {\n    var actual = typeOf(value);\n    if (actual !== type) {\n        throw new TypeError(\"Expected type of \" + name + \" to be \" +\n            type + \", but was \" + actual);\n    }\n}\n\nvar matcher = {\n    toString: function () {\n        return this.message;\n    }\n};\n\nfunction isMatcher(object) {\n    return matcher.isPrototypeOf(object);\n}\n\nfunction matchObject(expectation, actual) {\n    if (actual === null || actual === undefined) {\n        return false;\n    }\n\n    return Object.keys(expectation).every(function (key) {\n        var exp = expectation[key];\n        var act = actual[key];\n\n        if (isMatcher(exp)) {\n            if (!exp.test(act)) {\n                return false;\n            }\n        } else if (typeOf(exp) === \"object\") {\n            if (!matchObject(exp, act)) {\n                return false;\n            }\n        } else if (!deepEqual(exp, act)) {\n            return false;\n        }\n\n        return true;\n    });\n}\n\nvar TYPE_MAP = {\n    \"function\": function (m, expectation, message) {\n        m.test = expectation;\n        m.message = message || \"match(\" + functionName(expectation) + \")\";\n    },\n    number: function (m, expectation) {\n        m.test = function (actual) {\n            // we need type coercion here\n            return expectation == actual; // eslint-disable-line eqeqeq\n        };\n    },\n    object: function (m, expectation) {\n        var array = [];\n\n        if (typeof expectation.test === \"function\") {\n            m.test = function (actual) {\n                return expectation.test(actual) === true;\n            };\n            m.message = \"match(\" + functionName(expectation.test) + \")\";\n            return m;\n        }\n\n        array = Object.keys(expectation).map(function (key) {\n            return key + \": \" + valueToString(expectation[key]);\n        });\n\n        m.test = function (actual) {\n            return matchObject(expectation, actual);\n        };\n        m.message = \"match(\" + array.join(\", \") + \")\";\n\n        return m;\n    },\n    regexp: function (m, expectation) {\n        m.test = function (actual) {\n            return typeof actual === \"string\" && expectation.test(actual);\n        };\n    },\n    string: function (m, expectation) {\n        m.test = function (actual) {\n            return typeof actual === \"string\" && actual.indexOf(expectation) !== -1;\n        };\n        m.message = \"match(\\\"\" + expectation + \"\\\")\";\n    }\n};\n\nfunction match(expectation, message) {\n    var m = Object.create(matcher);\n    var type = typeOf(expectation);\n\n    if (type in TYPE_MAP) {\n        TYPE_MAP[type](m, expectation, message);\n    } else {\n        m.test = function (actual) {\n            return deepEqual(expectation, actual);\n        };\n    }\n\n    if (!m.message) {\n        m.message = \"match(\" + valueToString(expectation) + \")\";\n    }\n\n    return m;\n}\n\nmatcher.or = function (m2) {\n    if (!arguments.length) {\n        throw new TypeError(\"Matcher expected\");\n    } else if (!isMatcher(m2)) {\n        m2 = match(m2);\n    }\n    var m1 = this;\n    var or = Object.create(matcher);\n    or.test = function (actual) {\n        return m1.test(actual) || m2.test(actual);\n    };\n    or.message = m1.message + \".or(\" + m2.message + \")\";\n    return or;\n};\n\nmatcher.and = function (m2) {\n    if (!arguments.length) {\n        throw new TypeError(\"Matcher expected\");\n    } else if (!isMatcher(m2)) {\n        m2 = match(m2);\n    }\n    var m1 = this;\n    var and = Object.create(matcher);\n    and.test = function (actual) {\n        return m1.test(actual) && m2.test(actual);\n    };\n    and.message = m1.message + \".and(\" + m2.message + \")\";\n    return and;\n};\n\nmatch.isMatcher = isMatcher;\n\nmatch.any = match(function () {\n    return true;\n}, \"any\");\n\nmatch.defined = match(function (actual) {\n    return actual !== null && actual !== undefined;\n}, \"defined\");\n\nmatch.truthy = match(function (actual) {\n    return !!actual;\n}, \"truthy\");\n\nmatch.falsy = match(function (actual) {\n    return !actual;\n}, \"falsy\");\n\nmatch.same = function (expectation) {\n    return match(function (actual) {\n        return expectation === actual;\n    }, \"same(\" + valueToString(expectation) + \")\");\n};\n\nmatch.typeOf = function (type) {\n    assertType(type, \"string\", \"type\");\n    return match(function (actual) {\n        return typeOf(actual) === type;\n    }, \"typeOf(\\\"\" + type + \"\\\")\");\n};\n\nmatch.instanceOf = function (type) {\n    assertType(type, \"function\", \"type\");\n    return match(function (actual) {\n        return actual instanceof type;\n    }, \"instanceOf(\" + functionName(type) + \")\");\n};\n\nfunction createPropertyMatcher(propertyTest, messagePrefix) {\n    return function (property, value) {\n        assertType(property, \"string\", \"property\");\n        var onlyProperty = arguments.length === 1;\n        var message = messagePrefix + \"(\\\"\" + property + \"\\\"\";\n        if (!onlyProperty) {\n            message += \", \" + valueToString(value);\n        }\n        message += \")\";\n        return match(function (actual) {\n            if (actual === undefined || actual === null ||\n                    !propertyTest(actual, property)) {\n                return false;\n            }\n            return onlyProperty || deepEqual(value, actual[property]);\n        }, message);\n    };\n}\n\nmatch.has = createPropertyMatcher(function (actual, property) {\n    if (typeof actual === \"object\") {\n        return property in actual;\n    }\n    return actual[property] !== undefined;\n}, \"has\");\n\nmatch.hasOwn = createPropertyMatcher(function (actual, property) {\n    return actual.hasOwnProperty(property);\n}, \"hasOwn\");\n\nmatch.array = match.typeOf(\"array\");\n\nmatch.array.deepEquals = function (expectation) {\n    return match(function (actual) {\n        // Comparing lengths is the fastest way to spot a difference before iterating through every item\n        var sameLength = actual.length === expectation.length;\n        return typeOf(actual) === \"array\" && sameLength && every(actual, function (element, index) {\n            return expectation[index] === element;\n        });\n    }, \"deepEquals([\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.array.startsWith = function (expectation) {\n    return match(function (actual) {\n        return typeOf(actual) === \"array\" && every(expectation, function (expectedElement, index) {\n            return actual[index] === expectedElement;\n        });\n    }, \"startsWith([\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.array.endsWith = function (expectation) {\n    return match(function (actual) {\n        // This indicates the index in which we should start matching\n        var offset = actual.length - expectation.length;\n\n        return typeOf(actual) === \"array\" && every(expectation, function (expectedElement, index) {\n            return actual[offset + index] === expectedElement;\n        });\n    }, \"endsWith([\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.array.contains = function (expectation) {\n    return match(function (actual) {\n        return typeOf(actual) === \"array\" && every(expectation, function (expectedElement) {\n            return indexOf.call(actual, expectedElement) !== -1;\n        });\n    }, \"contains([\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.map = match.typeOf(\"map\");\n\nmatch.map.deepEquals = function mapDeepEquals(expectation) {\n    return match(function (actual) {\n        // Comparing lengths is the fastest way to spot a difference before iterating through every item\n        var sameLength = actual.size === expectation.size;\n        return typeOf(actual) === \"map\" && sameLength && every(actual, function (element, key) {\n            return expectation.has(key) && expectation.get(key) === element;\n        });\n    }, \"deepEquals(Map[\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.map.contains = function mapContains(expectation) {\n    return match(function (actual) {\n        return typeOf(actual) === \"map\" && every(expectation, function (element, key) {\n            return actual.has(key) && actual.get(key) === element;\n        });\n    }, \"contains(Map[\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.set = match.typeOf(\"set\");\n\nmatch.set.deepEquals = function setDeepEquals(expectation) {\n    return match(function (actual) {\n        // Comparing lengths is the fastest way to spot a difference before iterating through every item\n        var sameLength = actual.size === expectation.size;\n        return typeOf(actual) === \"set\" && sameLength && every(actual, function (element) {\n            return expectation.has(element);\n        });\n    }, \"deepEquals(Set[\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.set.contains = function setContains(expectation) {\n    return match(function (actual) {\n        return typeOf(actual) === \"set\" && every(expectation, function (element) {\n            return actual.has(element);\n        });\n    }, \"contains(Set[\" + iterableToString(expectation) + \"])\");\n};\n\nmatch.bool = match.typeOf(\"boolean\");\nmatch.number = match.typeOf(\"number\");\nmatch.string = match.typeOf(\"string\");\nmatch.object = match.typeOf(\"object\");\nmatch.func = match.typeOf(\"function\");\nmatch.regexp = match.typeOf(\"regexp\");\nmatch.date = match.typeOf(\"date\");\nmatch.symbol = match.typeOf(\"symbol\");\n\nmodule.exports = match;\n"]},"metadata":{},"sourceType":"script"}