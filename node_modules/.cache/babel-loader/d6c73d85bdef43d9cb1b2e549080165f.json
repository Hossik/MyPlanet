{"ast":null,"code":"\"use strict\";\n\nvar getPropertyDescriptor = require(\"./util/core/get-property-descriptor\");\n\nvar slice = [].slice;\nvar useLeftMostCallback = -1;\nvar useRightMostCallback = -2;\n\nfunction throwsException(fake, error, message) {\n  if (typeof error === \"string\") {\n    fake.exception = new Error(message || \"\");\n    fake.exception.name = error;\n  } else if (!error) {\n    fake.exception = new Error(\"Error\");\n  } else {\n    fake.exception = error;\n  }\n}\n\nfunction isPropertyConfigurable(obj, propName) {\n  var propertyDescriptor = getPropertyDescriptor(obj, propName);\n  return propertyDescriptor ? propertyDescriptor.configurable : true;\n}\n\nmodule.exports = {\n  callsFake: function callsFake(fake, fn) {\n    fake.fakeFn = fn;\n  },\n  callsArg: function callsArg(fake, pos) {\n    if (typeof pos !== \"number\") {\n      throw new TypeError(\"argument index is not number\");\n    }\n\n    fake.callArgAt = pos;\n    fake.callbackArguments = [];\n    fake.callbackContext = undefined;\n    fake.callArgProp = undefined;\n    fake.callbackAsync = false;\n  },\n  callsArgOn: function callsArgOn(fake, pos, context) {\n    if (typeof pos !== \"number\") {\n      throw new TypeError(\"argument index is not number\");\n    }\n\n    fake.callArgAt = pos;\n    fake.callbackArguments = [];\n    fake.callbackContext = context;\n    fake.callArgProp = undefined;\n    fake.callbackAsync = false;\n  },\n  callsArgWith: function callsArgWith(fake, pos) {\n    if (typeof pos !== \"number\") {\n      throw new TypeError(\"argument index is not number\");\n    }\n\n    fake.callArgAt = pos;\n    fake.callbackArguments = slice.call(arguments, 2);\n    fake.callbackContext = undefined;\n    fake.callArgProp = undefined;\n    fake.callbackAsync = false;\n  },\n  callsArgOnWith: function callsArgWith(fake, pos, context) {\n    if (typeof pos !== \"number\") {\n      throw new TypeError(\"argument index is not number\");\n    }\n\n    fake.callArgAt = pos;\n    fake.callbackArguments = slice.call(arguments, 3);\n    fake.callbackContext = context;\n    fake.callArgProp = undefined;\n    fake.callbackAsync = false;\n  },\n  usingPromise: function usingPromise(fake, promiseLibrary) {\n    fake.promiseLibrary = promiseLibrary;\n  },\n  yields: function (fake) {\n    fake.callArgAt = useLeftMostCallback;\n    fake.callbackArguments = slice.call(arguments, 1);\n    fake.callbackContext = undefined;\n    fake.callArgProp = undefined;\n    fake.callbackAsync = false;\n  },\n  yieldsRight: function (fake) {\n    fake.callArgAt = useRightMostCallback;\n    fake.callbackArguments = slice.call(arguments, 1);\n    fake.callbackContext = undefined;\n    fake.callArgProp = undefined;\n    fake.callbackAsync = false;\n  },\n  yieldsOn: function (fake, context) {\n    fake.callArgAt = useLeftMostCallback;\n    fake.callbackArguments = slice.call(arguments, 2);\n    fake.callbackContext = context;\n    fake.callArgProp = undefined;\n    fake.callbackAsync = false;\n  },\n  yieldsTo: function (fake, prop) {\n    fake.callArgAt = useLeftMostCallback;\n    fake.callbackArguments = slice.call(arguments, 2);\n    fake.callbackContext = undefined;\n    fake.callArgProp = prop;\n    fake.callbackAsync = false;\n  },\n  yieldsToOn: function (fake, prop, context) {\n    fake.callArgAt = useLeftMostCallback;\n    fake.callbackArguments = slice.call(arguments, 3);\n    fake.callbackContext = context;\n    fake.callArgProp = prop;\n    fake.callbackAsync = false;\n  },\n  throws: throwsException,\n  throwsException: throwsException,\n  returns: function returns(fake, value) {\n    fake.returnValue = value;\n    fake.resolve = false;\n    fake.reject = false;\n    fake.returnValueDefined = true;\n    fake.exception = undefined;\n    fake.fakeFn = undefined;\n  },\n  returnsArg: function returnsArg(fake, pos) {\n    if (typeof pos !== \"number\") {\n      throw new TypeError(\"argument index is not number\");\n    }\n\n    fake.returnArgAt = pos;\n  },\n  throwsArg: function throwsArg(fake, pos) {\n    if (typeof pos !== \"number\") {\n      throw new TypeError(\"argument index is not number\");\n    }\n\n    fake.throwArgAt = pos;\n  },\n  returnsThis: function returnsThis(fake) {\n    fake.returnThis = true;\n  },\n  resolves: function resolves(fake, value) {\n    fake.returnValue = value;\n    fake.resolve = true;\n    fake.reject = false;\n    fake.returnValueDefined = true;\n    fake.exception = undefined;\n    fake.fakeFn = undefined;\n  },\n  rejects: function rejects(fake, error, message) {\n    var reason;\n\n    if (typeof error === \"string\") {\n      reason = new Error(message || \"\");\n      reason.name = error;\n    } else if (!error) {\n      reason = new Error(\"Error\");\n    } else {\n      reason = error;\n    }\n\n    fake.returnValue = reason;\n    fake.resolve = false;\n    fake.reject = true;\n    fake.returnValueDefined = true;\n    fake.exception = undefined;\n    fake.fakeFn = undefined;\n    return fake;\n  },\n  callThrough: function callThrough(fake) {\n    fake.callsThrough = true;\n  },\n  get: function get(fake, getterFunction) {\n    var rootStub = fake.stub || fake;\n    Object.defineProperty(rootStub.rootObj, rootStub.propName, {\n      get: getterFunction,\n      configurable: isPropertyConfigurable(rootStub.rootObj, rootStub.propName)\n    });\n    return fake;\n  },\n  set: function set(fake, setterFunction) {\n    var rootStub = fake.stub || fake;\n    Object.defineProperty(rootStub.rootObj, rootStub.propName, {\n      // eslint-disable-line accessor-pairs\n      set: setterFunction,\n      configurable: isPropertyConfigurable(rootStub.rootObj, rootStub.propName)\n    });\n    return fake;\n  },\n  value: function value(fake, newVal) {\n    var rootStub = fake.stub || fake;\n    Object.defineProperty(rootStub.rootObj, rootStub.propName, {\n      value: newVal,\n      enumerable: true,\n      configurable: isPropertyConfigurable(rootStub.rootObj, rootStub.propName)\n    });\n    return fake;\n  }\n};\n\nfunction createAsyncVersion(syncFnName) {\n  return function () {\n    var result = module.exports[syncFnName].apply(this, arguments);\n    this.callbackAsync = true;\n    return result;\n  };\n} // create asynchronous versions of callsArg* and yields* methods\n\n\nObject.keys(module.exports).forEach(function (method) {\n  // need to avoid creating anotherasync versions of the newly added async methods\n  if (method.match(/^(callsArg|yields)/) && !method.match(/Async/)) {\n    module.exports[method + \"Async\"] = createAsyncVersion(method);\n  }\n});","map":{"version":3,"sources":["/home/hoss/my App/my-app/node_modules/sinon/lib/sinon/default-behaviors.js"],"names":["getPropertyDescriptor","require","slice","useLeftMostCallback","useRightMostCallback","throwsException","fake","error","message","exception","Error","name","isPropertyConfigurable","obj","propName","propertyDescriptor","configurable","module","exports","callsFake","fn","fakeFn","callsArg","pos","TypeError","callArgAt","callbackArguments","callbackContext","undefined","callArgProp","callbackAsync","callsArgOn","context","callsArgWith","call","arguments","callsArgOnWith","usingPromise","promiseLibrary","yields","yieldsRight","yieldsOn","yieldsTo","prop","yieldsToOn","throws","returns","value","returnValue","resolve","reject","returnValueDefined","returnsArg","returnArgAt","throwsArg","throwArgAt","returnsThis","returnThis","resolves","rejects","reason","callThrough","callsThrough","get","getterFunction","rootStub","stub","Object","defineProperty","rootObj","set","setterFunction","newVal","enumerable","createAsyncVersion","syncFnName","result","apply","keys","forEach","method","match"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar getPropertyDescriptor = require(\"./util/core/get-property-descriptor\");\n\nvar slice = [].slice;\nvar useLeftMostCallback = -1;\nvar useRightMostCallback = -2;\n\nfunction throwsException(fake, error, message) {\n    if (typeof error === \"string\") {\n        fake.exception = new Error(message || \"\");\n        fake.exception.name = error;\n    } else if (!error) {\n        fake.exception = new Error(\"Error\");\n    } else {\n        fake.exception = error;\n    }\n}\n\nfunction isPropertyConfigurable(obj, propName) {\n    var propertyDescriptor = getPropertyDescriptor(obj, propName);\n\n    return propertyDescriptor ? propertyDescriptor.configurable : true;\n}\n\nmodule.exports = {\n    callsFake: function callsFake(fake, fn) {\n        fake.fakeFn = fn;\n    },\n\n    callsArg: function callsArg(fake, pos) {\n        if (typeof pos !== \"number\") {\n            throw new TypeError(\"argument index is not number\");\n        }\n\n        fake.callArgAt = pos;\n        fake.callbackArguments = [];\n        fake.callbackContext = undefined;\n        fake.callArgProp = undefined;\n        fake.callbackAsync = false;\n    },\n\n    callsArgOn: function callsArgOn(fake, pos, context) {\n        if (typeof pos !== \"number\") {\n            throw new TypeError(\"argument index is not number\");\n        }\n\n        fake.callArgAt = pos;\n        fake.callbackArguments = [];\n        fake.callbackContext = context;\n        fake.callArgProp = undefined;\n        fake.callbackAsync = false;\n    },\n\n    callsArgWith: function callsArgWith(fake, pos) {\n        if (typeof pos !== \"number\") {\n            throw new TypeError(\"argument index is not number\");\n        }\n\n        fake.callArgAt = pos;\n        fake.callbackArguments = slice.call(arguments, 2);\n        fake.callbackContext = undefined;\n        fake.callArgProp = undefined;\n        fake.callbackAsync = false;\n    },\n\n    callsArgOnWith: function callsArgWith(fake, pos, context) {\n        if (typeof pos !== \"number\") {\n            throw new TypeError(\"argument index is not number\");\n        }\n\n        fake.callArgAt = pos;\n        fake.callbackArguments = slice.call(arguments, 3);\n        fake.callbackContext = context;\n        fake.callArgProp = undefined;\n        fake.callbackAsync = false;\n    },\n\n    usingPromise: function usingPromise(fake, promiseLibrary) {\n        fake.promiseLibrary = promiseLibrary;\n    },\n\n    yields: function (fake) {\n        fake.callArgAt = useLeftMostCallback;\n        fake.callbackArguments = slice.call(arguments, 1);\n        fake.callbackContext = undefined;\n        fake.callArgProp = undefined;\n        fake.callbackAsync = false;\n    },\n\n    yieldsRight: function (fake) {\n        fake.callArgAt = useRightMostCallback;\n        fake.callbackArguments = slice.call(arguments, 1);\n        fake.callbackContext = undefined;\n        fake.callArgProp = undefined;\n        fake.callbackAsync = false;\n    },\n\n    yieldsOn: function (fake, context) {\n        fake.callArgAt = useLeftMostCallback;\n        fake.callbackArguments = slice.call(arguments, 2);\n        fake.callbackContext = context;\n        fake.callArgProp = undefined;\n        fake.callbackAsync = false;\n    },\n\n    yieldsTo: function (fake, prop) {\n        fake.callArgAt = useLeftMostCallback;\n        fake.callbackArguments = slice.call(arguments, 2);\n        fake.callbackContext = undefined;\n        fake.callArgProp = prop;\n        fake.callbackAsync = false;\n    },\n\n    yieldsToOn: function (fake, prop, context) {\n        fake.callArgAt = useLeftMostCallback;\n        fake.callbackArguments = slice.call(arguments, 3);\n        fake.callbackContext = context;\n        fake.callArgProp = prop;\n        fake.callbackAsync = false;\n    },\n\n    throws: throwsException,\n    throwsException: throwsException,\n\n    returns: function returns(fake, value) {\n        fake.returnValue = value;\n        fake.resolve = false;\n        fake.reject = false;\n        fake.returnValueDefined = true;\n        fake.exception = undefined;\n        fake.fakeFn = undefined;\n    },\n\n    returnsArg: function returnsArg(fake, pos) {\n        if (typeof pos !== \"number\") {\n            throw new TypeError(\"argument index is not number\");\n        }\n\n        fake.returnArgAt = pos;\n    },\n\n    throwsArg: function throwsArg(fake, pos) {\n        if (typeof pos !== \"number\") {\n            throw new TypeError(\"argument index is not number\");\n        }\n\n        fake.throwArgAt = pos;\n    },\n\n    returnsThis: function returnsThis(fake) {\n        fake.returnThis = true;\n    },\n\n    resolves: function resolves(fake, value) {\n        fake.returnValue = value;\n        fake.resolve = true;\n        fake.reject = false;\n        fake.returnValueDefined = true;\n        fake.exception = undefined;\n        fake.fakeFn = undefined;\n    },\n\n    rejects: function rejects(fake, error, message) {\n        var reason;\n        if (typeof error === \"string\") {\n            reason = new Error(message || \"\");\n            reason.name = error;\n        } else if (!error) {\n            reason = new Error(\"Error\");\n        } else {\n            reason = error;\n        }\n        fake.returnValue = reason;\n        fake.resolve = false;\n        fake.reject = true;\n        fake.returnValueDefined = true;\n        fake.exception = undefined;\n        fake.fakeFn = undefined;\n\n        return fake;\n    },\n\n    callThrough: function callThrough(fake) {\n        fake.callsThrough = true;\n    },\n\n    get: function get(fake, getterFunction) {\n        var rootStub = fake.stub || fake;\n\n        Object.defineProperty(rootStub.rootObj, rootStub.propName, {\n            get: getterFunction,\n            configurable: isPropertyConfigurable(rootStub.rootObj, rootStub.propName)\n        });\n\n        return fake;\n    },\n\n    set: function set(fake, setterFunction) {\n        var rootStub = fake.stub || fake;\n\n        Object.defineProperty(rootStub.rootObj, rootStub.propName, { // eslint-disable-line accessor-pairs\n            set: setterFunction,\n            configurable: isPropertyConfigurable(rootStub.rootObj, rootStub.propName)\n        });\n\n        return fake;\n    },\n\n    value: function value(fake, newVal) {\n        var rootStub = fake.stub || fake;\n\n        Object.defineProperty(rootStub.rootObj, rootStub.propName, {\n            value: newVal,\n            enumerable: true,\n            configurable: isPropertyConfigurable(rootStub.rootObj, rootStub.propName)\n        });\n\n        return fake;\n    }\n};\n\nfunction createAsyncVersion(syncFnName) {\n    return function () {\n        var result = module.exports[syncFnName].apply(this, arguments);\n        this.callbackAsync = true;\n        return result;\n    };\n}\n\n// create asynchronous versions of callsArg* and yields* methods\nObject.keys(module.exports).forEach(function (method) {\n    // need to avoid creating anotherasync versions of the newly added async methods\n    if (method.match(/^(callsArg|yields)/) && !method.match(/Async/)) {\n        module.exports[method + \"Async\"] = createAsyncVersion(method);\n    }\n});\n"]},"metadata":{},"sourceType":"script"}